(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{73:function(e,t,a){e.exports=a(74)},74:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a(20),l=a(24),s=a(21),i=a(23),c=a(2),o=a(0),p=a.n(o),u=a(27),y=a.n(u),h=(a(79),a(22)),d=a.n(h),m=a(34),b=a.n(m),f=a(40),v=a.n(f),j=a(72),E=a.n(j),k=a(66),O=a.n(k),g=a(68),x=a.n(g),B=a(69),w=a.n(B),S=a(71),C=a.n(S),I=a(33),T=a(70),F=a.n(T),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={results:[],playIndex:null,playMode:null},a.search=a.search.bind(Object(c.a)(Object(c.a)(a))),a.searchByCollectionId=a.searchByCollectionId.bind(Object(c.a)(Object(c.a)(a))),a.searchByArtistId=a.searchByArtistId.bind(Object(c.a)(Object(c.a)(a))),a.searchByTerm=a.searchByTerm.bind(Object(c.a)(Object(c.a)(a))),a.play=a.play.bind(Object(c.a)(Object(c.a)(a))),a.playEnd=a.playEnd.bind(Object(c.a)(Object(c.a)(a))),a.playTimeupdate=a.playTimeupdate.bind(Object(c.a)(Object(c.a)(a))),a.playPause=a.playPause.bind(Object(c.a)(Object(c.a)(a))),a.playRestart=a.playRestart.bind(Object(c.a)(Object(c.a)(a))),a.playFinish=a.playFinish.bind(Object(c.a)(Object(c.a)(a))),a.searchByTopsales(),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"searchByTerm",value:function(e){var t="https://itunes.apple.com/search?country=JP&entity=song&term="+e.replace(/ /g,"+");this.search(t)}},{key:"searchByCollectionId",value:function(e){var t="https://itunes.apple.com/lookup?country=JP&entity=song&id="+e;this.search(t)}},{key:"searchByArtistId",value:function(e){var t="https://itunes.apple.com/lookup?country=JP&entity=song&id="+e;this.search(t)}},{key:"searchByTopsales",value:function(){var e=this;fetch("https://5i396a71kj.execute-api.ap-northeast-1.amazonaws.com/prod/rss",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){var a="";t.feed.results.forEach(function(e){a=a.concat(e.id,",")}),e.search("https://itunes.apple.com/lookup?country=JP&entity=song&id="+a)})}},{key:"search",value:function(e){this.playFinish();var t=this;fetch(e,{mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){return e.json()}).then(function(e){if(e.results){var a=e.results.filter(function(e,t,a){return"track"===e.wrapperType});t.setState({results:a})}})}},{key:"play",value:function(e){this.setState({playIndex:e,playState:"play"});var t=document.getElementById("audio"),a=this.state.results[e];t.src=a.previewUrl,t.play()}},{key:"playEnd",value:function(e){var t=this.state.playIndex;this.state.results.length>t+1?this.play(t+1):this.playFinish()}},{key:"playPause",value:function(){this.setState({playState:"pause"}),document.getElementById("audio").pause()}},{key:"playRestart",value:function(){this.setState({playState:"play"}),document.getElementById("audio").play()}},{key:"playFinish",value:function(){this.setState({playIndex:null,playState:null});var e=document.getElementById("audio");e.pause(),e.src=""}},{key:"playTimeupdate",value:function(e){}},{key:"render",value:function(){var e=this.state.results,t=this.state.playState;return p.a.createElement("div",null,p.a.createElement(z,{searchByKeyword:this.searchByTerm}),p.a.createElement(A,{playState:t,pause:this.playPause,restart:this.playRestart}),p.a.createElement("div",{style:{height:"72px"}}),p.a.createElement(K,{results:e,searchByArtist:this.searchByArtistId,searchByCollection:this.searchByCollectionId,play:this.play}),p.a.createElement("audio",{id:"audio",onEnded:this.playEnd,onTimeUpdate:this.playTimeupdate}))}}]),t}(p.a.Component),z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={keyword:""},a.changeKeyword=a.changeKeyword.bind(Object(c.a)(Object(c.a)(a))),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"changeKeyword",value:function(e){this.setState({keyword:e.target.value})}},{key:"render",value:function(){var e=this;return p.a.createElement(O.a,{position:"fixed",color:"primary"},p.a.createElement(x.a,null,p.a.createElement(w.a,{variant:"title",color:"inherit",style:{marginRight:"16px"}},"Preview5"),p.a.createElement("div",{style:{flexGrow:1}}),p.a.createElement("div",{style:{position:"relative",marginLeft:0,backgroundColor:Object(I.fade)("#FFFFFF",.15)}},p.a.createElement("div",{style:{position:"absolute",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:"8px"}},p.a.createElement(F.a,null)),p.a.createElement(C.a,{name:"keyword",type:"search",placeholder:"Search\u2026",style:{color:"inherit",paddingLeft:"48px"},value:this.state.keyword,onChange:this.changeKeyword,onKeyDown:function(t){return 13===t.keyCode?e.props.searchByKeyword(e.state.keyword):null}}))))}}]),t}(p.a.Component),A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={playState:e.playState},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({playState:e.playState})}},{key:"render",value:function(){var e=this,t=this.state.playState,a="";return t&&(a="play"===t?p.a.createElement(v.a,{style:{position:"fixed",right:"20px",bottom:"20px",padding:"4px",zIndex:"999"},color:"primary",onClick:function(){return e.props.pause()}},p.a.createElement(d.a,{fontSize:"small"},"pause_arrow")):p.a.createElement(v.a,{style:{position:"fixed",right:"20px",bottom:"20px",padding:"4px",zIndex:"999"},color:"primary",onClick:function(){return e.props.restart()}},p.a.createElement(d.a,{fontSize:"small"},"play_arrow"))),p.a.createElement("div",null,a)}}]),t}(p.a.Component),K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={results:e.results},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({results:e.results})}},{key:"render",value:function(){var e=this,t=[];return this.state.results.forEach(function(a,n){t.push(p.a.createElement(R,{result:a,key:a.trackId,index:n,searchByArtist:e.props.searchByArtist,searchByCollection:e.props.searchByCollection,play:e.props.play}))}),p.a.createElement("div",null,t)}}]),t}(p.a.Component),R=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.result,a=this.props.index;return p.a.createElement(E.a,{style:{marginBottom:"8px"}},p.a.createElement("table",null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("img",{src:this.props.result.artworkUrl100,alt:this.props.result.name})),p.a.createElement("td",null,a+1,". ",t.trackName,p.a.createElement(b.a,{style:{padding:"4px"},onClick:function(){return e.props.play(a)}},p.a.createElement(d.a,{fontSize:"small"},"play_circle_filled")),p.a.createElement("br",null),t.artistName," ",p.a.createElement(b.a,{style:{padding:"4px"},onClick:function(){return e.props.searchByArtist(e.props.result.artistId)}},p.a.createElement(d.a,{fontSize:"small"},"search")),p.a.createElement("br",null),t.collectionName," ",p.a.createElement(b.a,{style:{padding:"4px"},onClick:function(){return e.props.searchByCollection(e.props.result.collectionId)}},p.a.createElement(d.a,{fontSize:"small"},"search")),p.a.createElement("br",null),p.a.createElement("a",{id:this.props.result.id,href:this.props.result.trackViewUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",overflow:"hidden",background:"url(https://linkmaker.itunes.apple.com/assets/shared/badges/ja-jp/itunes-sm.svg) no-repeat",width:"45px",height:"15px",backgroundSize:"contain"}}," "))))))}}]),t}(p.a.Component);y.a.render(p.a.createElement(P,null),document.getElementById("root"))},79:function(e,t,a){}},[[73,2,1]]]);
//# sourceMappingURL=main.f4088bc8.chunk.js.map