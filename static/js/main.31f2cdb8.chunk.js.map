{"version":3,"sources":["components/Header.js","components/Control.js","components/Row.js","components/List.js","components/Logic.js","index.js"],"names":["Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","keyword","changeKeyword","bind","assertThisInitialized","e","setState","target","value","_this2","react_default","a","createElement","AppBar_default","position","color","Toolbar_default","Typography_default","variant","style","marginRight","Link","to","textDecoration","flexGrow","marginLeft","backgroundColor","fade","height","display","alignItems","justifyContent","paddingLeft","Search_default","InputBase_default","name","type","placeholder","onChange","onKeyDown","keyCode","searchByKeyword","onKeyUp","document","activeElement","blur","React","Component","Control","playState","time","paper","button","slider","result","results","index","img","src","artworkUrl100","alt","maxWidth","maxHeight","padding","text","textOverflow","overflow","fontSize","trackName","artistName","table","currentTime","max","duration","Slider_default","miin","disabled","width","Paper_default","elevation","left","bottom","margin","zIndex","Fab_default","right","onClick","pause","Icon_default","restart","Row","Card_default","marginBottom","IconButton_default","play","artistId","collectionName","collectionId","id","href","trackViewUrl","rel","background","backgroundSize","List","children","forEach","push","components_Row","key","trackId","Logic","playIndex","search","searchByCollectionId","searchByArtistId","playEnd","playTimeupdate","playPause","playRestart","playFinish","match","path","searchByTerm","params","query","searchByTopsales","term","history","url","replace","that","fetch","mode","then","response","json","ids","feed","concat","random","Math","headers","Content-Type","filter","element","array","wrapperType","window","scrollTo","audio","getElementById","previewUrl","length","components_Header","components_Control","components_List","onEnded","onTimeUpdate","ReactDOM","render","BrowserRouter","basename","Switch","Route","component"],"mappings":"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","file":"static/js/main.31f2cdb8.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      keyword: ''\r\n    }\r\n\r\n    this.changeKeyword = this.changeKeyword.bind(this);\r\n  }\r\n\r\n  changeKeyword(e) {\r\n    this.setState({\r\n      keyword: e.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (    \r\n      <AppBar position=\"fixed\" color=\"primary\" >\r\n        <Toolbar>\r\n            <Typography variant=\"title\" color=\"inherit\" style={{marginRight:\"16px\"}}>\r\n            <Link to='/' style={{textDecoration:'none',color:'inherit'}}>\r\n              Preview5\r\n              </Link>\r\n            </Typography>\r\n          <div style={{ flexGrow: 1 }}></div>\r\n          <div style={{position:\"relative\", marginLeft:0, backgroundColor: fade('#FFFFFF', 0.15),}}>\r\n          <div style={{position: 'absolute',height: '100%',display: 'flex',alignItems: 'center',justifyContent: 'center',paddingLeft:\"8px\"}}>\r\n            <SearchIcon />\r\n            </div>\r\n            <InputBase name=\"keyword\" type=\"search\" placeholder=\"Search...\" style={{color: \"inherit\",paddingLeft:\"48px\"}} value={this.state.keyword} onChange={this.changeKeyword} onKeyDown={(e) => (e.keyCode === 13)?this.props.searchByKeyword(this.state.keyword):null} onKeyUp={(e) => (e.keyCode === 13)?document.activeElement.blur():null} />\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>      \r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Slider from '@material-ui/lab/Slider';\r\n\r\nclass Control extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playState: props.playState,\r\n      time: props.time,\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      playState: props.playState\r\n    });\r\n  }\r\n\r\n  render(){\r\n    let playState = this.state.playState;    \r\n    let paper = ''\r\n    let button = '';\r\n    let slider = '';\r\n\r\n    if(!playState) {\r\n    } else {\r\n      const result = this.props.results[this.props.index]\r\n      \r\n      const img = <img src={result.artworkUrl100} alt={result.name} style={{maxWidth:'44px', maxHeight:'44px', padding:'0px'}}></img>\r\n      const text = <div style={{textOverflow: 'ellipsis', overflow: 'hidden', fontSize: 'small'}}>{this.props.index + 1}. {result.trackName} / {result.artistName}</div>\r\n      const table = <table><tbody><tr><td style={{padding: '0px'}}>{img}</td><td style={{padding: '0px',}}>{text}</td></tr></tbody></table>\r\n      \r\n      const value = this.props.time.currentTime ? this.props.time.currentTime : 0\r\n      const max = this.props.time.duration ? this.props.time.duration : 100\r\n      slider = <Slider value={value} max={max} miin={0} disabled style={{width:'100%'}}></Slider>\r\n\r\n      paper = <Paper elevation={8} style={{position:'fixed',left:'0px',bottom:'0px',height:'48px', width:'100%', padding:\"0px\", margin:'0px', zIndex:'990', alignItems:'top'}}>{slider}{table}</Paper>\r\n      \r\n      if(playState === 'play'){  \r\n        button = <Fab style={{position:'fixed',right:'20px', bottom:'20px', padding:\"4px\", zIndex:'999'}} color=\"secondary\" onClick={() => this.props.pause()}><Icon fontSize=\"small\">pause_arrow</Icon></Fab>;\r\n      } else {\r\n        button = <Fab style={{position:'fixed',right:'20px', bottom:'20px', padding:\"4px\", zIndex:'999'}} color=\"secondary\" onClick={() => this.props.restart()}><Icon fontSize=\"small\">play_arrow</Icon></Fab>;\r\n      }\r\n    }\r\n\r\n    return(\r\n      <div>\r\n        {paper}\r\n        {button}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Control;","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport Icon from '@material-ui/core/Icon';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Card from '@material-ui/core/Card';\r\n\r\nclass Row extends React.Component {\r\n\r\n  render() {\r\n    let result = this.props.result;\r\n    let index = this.props.index;\r\n\r\n    let iTunesLinstStyle = {\r\n      display:'inline-block',\r\n      overflow:'hidden',\r\n      background:'url(https://linkmaker.itunes.apple.com/assets/shared/badges/ja-jp/itunes-sm.svg) no-repeat',\r\n      width:'45px',\r\n      height:'15px',\r\n      backgroundSize:'contain'\r\n    }\r\n    \r\n    return (\r\n      \r\n        <Card style={{marginBottom: '8px'}}>\r\n          <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n            <img src={this.props.result.artworkUrl100} alt={this.props.result.name}></img>\r\n            </td>\r\n            <td>\r\n              {index + 1}. {result.trackName}<IconButton style={{padding:\"4px\"}} onClick={() => this.props.play(index)}><Icon fontSize=\"small\">play_circle_filled</Icon></IconButton>\r\n              <br></br>\r\n              {result.artistName}\r\n              <Link to={'/id/'+this.props.result.artistId} style={{textDecoration:'none'}}>\r\n                <IconButton style={{padding:\"4px\"}} ><Icon fontSize=\"small\" >search</Icon></IconButton> \r\n              </Link>\r\n              <br></br>\r\n              {result.collectionName}\r\n              <Link to={'/id/'+this.props.result.collectionId} style={{textDecoration:'none'}}>\r\n                <IconButton style={{padding:\"4px\"}} ><Icon fontSize=\"small\" >search</Icon></IconButton> \r\n              </Link>\r\n              <br></br>\r\n              <a id={this.props.result.id} href={this.props.result.trackViewUrl} target=\"_blank\" rel=\"noopener noreferrer\" style={iTunesLinstStyle}> </a>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n        </table>\r\n        </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Row;","import React from 'react';\r\n\r\nimport Row from './Row'\r\n\r\nclass List extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      results: props.results,\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      results: props.results,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let children = [];\r\n    \r\n    let results = this.state.results;\r\n\r\n    results.forEach((result, index) => {\r\n      children.push(<Row result={result} key={result.trackId} index={index} play={this.props.play}></Row>);\r\n    });\r\n    children.push(<div key={-1} style={{height:'40px'}}></div>)\r\n\r\n    return ( \r\n      <div>{children}</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;","import React from 'react';\r\n\r\nimport Header from './Header'\r\nimport Control from './Control'\r\nimport List from './List'\r\n\r\nclass Logic extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      results: [],\r\n      playIndex: null,\r\n      playState: null,\r\n      time: {\r\n        currentTime: null,\r\n        duration: null,\r\n      },\r\n    };\r\n\r\n    this.search = this.search.bind(this);\r\n    this.searchByCollectionId = this.searchByCollectionId.bind(this);\r\n    this.searchByArtistId = this.searchByArtistId.bind(this);\r\n    this.searchByKeyword = this.searchByKeyword.bind(this);\r\n    this.play = this.play.bind(this);\r\n    this.playEnd = this.playEnd.bind(this);\r\n    this.playTimeupdate = this.playTimeupdate.bind(this);\r\n    this.playPause = this.playPause.bind(this);\r\n    this.playRestart = this.playRestart.bind(this);\r\n    this.playFinish = this.playFinish.bind(this);\r\n\r\n    switch(props.match.path) {\r\n      case '/q/:query':\r\n        this.searchByTerm(props.match.params.query);\r\n        break;\r\n      case '/id/:id':\r\n        this.searchByCollectionId(props.match.params.id);\r\n        break;\r\n      default:\r\n        this.searchByTopsales();\r\n        break;\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    switch(props.match.path) {\r\n      case '/q/:query':\r\n        this.searchByTerm(props.match.params.query);\r\n        break;\r\n      case '/id/:id':\r\n        this.searchByCollectionId(props.match.params.id);\r\n        break;\r\n      default:\r\n        this.searchByTopsales();\r\n        break;\r\n    }\r\n  }\r\n\r\n  searchByKeyword(term) {\r\n    this.props.history.push('/q/' + term)\r\n  }\r\n\r\n  searchByTerm(term) {\r\n    let keyword = term.replace(/ /g, '+');\r\n    let url = \"https://itunes.apple.com/search?country=JP&entity=song&term=\" + keyword;\r\n    this.search(url);\r\n  }\r\n  \r\n  searchByCollectionId(collectionId) {\r\n    let url = \"https://itunes.apple.com/lookup?country=JP&entity=song&id=\" + collectionId\r\n    this.search(url)\r\n  }\r\n  searchByArtistId(artistId) {\r\n    let url = \"https://itunes.apple.com/lookup?country=JP&entity=song&id=\" + artistId\r\n    this.search(url)\r\n  }\r\n  searchByTopsales() {\r\n    const that = this;\r\n    fetch('https://5i396a71kj.execute-api.ap-northeast-1.amazonaws.com/prod/rss', {\r\n      mode: 'cors',\r\n    }).then(function (response) {\r\n      return response.json();\r\n    }).then(function (json) {\r\n      let ids = '';\r\n      json.feed.results.forEach(function (result) {\r\n        ids = ids.concat(result.id, ',');\r\n      });\r\n      that.search('https://itunes.apple.com/lookup?country=JP&entity=song&id=' + ids);\r\n    })\r\n  }\r\n  search(url) {\r\n    this.playFinish();\r\n\r\n    const that = this;\r\n\r\n    let random = Math.random()\r\n    let fetchUrl = url + '&random=' + random\r\n\r\n    fetch(fetchUrl, {\r\n      mode: 'cors',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n    },\r\n    }).then(function (response) {\r\n      return response.json();\r\n    }).then(function (json) {\r\n      if(json.results) {\r\n       \r\n        let results = json.results.filter((element, index, array) =>  element.wrapperType === 'track');\r\n\r\n        that.setState({\r\n          results: results,\r\n        });\r\n\r\n        window.scrollTo(0,0);\r\n      }\r\n      \r\n    })\r\n  }\r\n\r\n  play(index) {\r\n    this.setState({\r\n      playIndex: index,\r\n      playState: 'play'\r\n    })\r\n\r\n    let audio = document.getElementById('audio');\r\n    let result = this.state.results[index];\r\n    \r\n    if(audio) {\r\n      audio.src = result.previewUrl;\r\n      audio.play();\r\n    }\r\n  }\r\n\r\n  playEnd(e) {\r\n    let index = this.state.playIndex;\r\n\r\n    if(this.state.results.length > index+1) {\r\n      this.play(index+1);\r\n    }else{\r\n      this.playFinish();\r\n    }\r\n  }\r\n\r\n  playPause() {\r\n    this.setState({\r\n      playState: 'pause'\r\n    })\r\n\r\n    let audio = document.getElementById('audio');\r\n    if(audio) {\r\n      audio.pause();\r\n    }\r\n  }\r\n\r\n  playRestart() {\r\n    this.setState({\r\n      playState: 'play'\r\n    })\r\n\r\n    let audio = document.getElementById('audio');\r\n    if(audio) {\r\n      audio.play();\r\n    }\r\n  }\r\n\r\n  playFinish() {\r\n    this.setState({\r\n      playIndex: null,\r\n      playState: null,\r\n      time: {\r\n        currentTime: null,\r\n        duration: null,\r\n      },\r\n    })\r\n\r\n    let audio = document.getElementById('audio');\r\n    if(audio) {\r\n      audio.pause();\r\n      audio.src = '';\r\n    }\r\n  }\r\n\r\n  playTimeupdate(e){\r\n    if(e.target) {\r\n      const currentTime = e.target.currentTime\r\n      const duration = e.target.duration\r\n\r\n      if(currentTime && duration) {\r\n        this.setState({\r\n          time: {\r\n            currentTime: currentTime,\r\n            duration: duration,\r\n          },\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let results = this.state.results;\r\n    let playState = this.state.playState;\r\n    let time = this.state.time;\r\n\r\n    return(\r\n      \r\n      <div>\r\n        <Header searchByKeyword={this.searchByKeyword}/>\r\n        <Control playState={playState} time={time} pause={this.playPause} restart={this.playRestart} results={results} index={this.state.playIndex} />\r\n        <div style={{height:'72px'}}></div>\r\n        <List results={results} play={this.play}/>\r\n        <audio id='audio' onEnded={this.playEnd} onTimeUpdate={this.playTimeupdate}></audio>\r\n      </div>\r\n    \r\n    );\r\n  }\r\n}\r\n\r\nexport default Logic;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom'\r\nimport './index.css';\r\n\r\nimport Logic from './components/Logic'\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename='/Preview5'>\r\n    <div>\r\n      <Switch>\r\n        <Route path='/q/:query' component={Logic}></Route>\r\n        <Route path='/id/:id' component={Logic}></Route>\r\n        <Route path='/' component={Logic}></Route>\r\n      </Switch>\r\n    </div>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}